<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inventory Management - QR System</title>
    <link rel="stylesheet" href="inventory-advanced.css">
    <link rel="stylesheet" href="inventory-advanced-nav.css">
    <link rel="stylesheet" href="inventory-mobile.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="inventory-container">
        <!-- Header Bar -->
        <div class="inventory-header">
            <div class="header-left">
                <button class="back-btn" onclick="history.back()">
                    <i class="fas fa-arrow-left"></i>
                </button>
                <h1>Inventory</h1>
                <span class="record-count">0 Records</span>
            </div>
            
            <div class="header-right">
                <!-- Removed buttons as requested -->
            </div>
        </div>
        
        <!-- Mobile Filter Toggle -->
        <button class="mobile-filter-toggle" id="mobile-filter-toggle">
            <i class="fas fa-filter"></i>
            <span>Filters</span>
        </button>
        
        <!-- Single Line Navigation Bar -->
        <div class="single-nav-bar" id="nav-bar">
            <!-- Search Box -->
            <div class="search-box-inline">
                <i class="fas fa-search"></i>
                <input type="text" placeholder="Search products..." id="search-input">
            </div>
            
            <!-- Status Filter -->
            <div class="filter-inline">
                <label class="mobile-label">Status:</label>
                <select id="status-filter" class="inline-select">
                    <option value="all">All Status</option>
                    <option value="in-stock">In Stock</option>
                    <option value="low-stock">Low Stock</option>
                    <option value="out-of-stock">Out of Stock</option>
                </select>
            </div>
            
            <!-- Category Filter -->
            <div class="filter-inline">
                <label class="mobile-label">Category:</label>
                <select id="category-filter" class="inline-select">
                    <option value="all">All Categories</option>
                    <option value="shirt">Shirts</option>
                    <option value="pants">Pants</option>
                    <option value="jacket">Jackets</option>
                    <option value="t-shirt">T-Shirts</option>
                    <option value="other">Others</option>
                </select>
            </div>
            
            <!-- Date Range -->
            <div class="date-range-inline">
                <label class="mobile-label">Date Range:</label>
                <input type="date" id="date-from" class="date-input-inline">
                <span class="date-sep">to</span>
                <input type="date" id="date-to" class="date-input-inline">
            </div>
            
            <!-- Spacer -->
            <div class="nav-spacer"></div>
            
            <!-- Show Entries -->
            <div class="entries-inline">
                <label>Show</label>
                <select id="per-page" class="inline-select">
                    <option value="10">10</option>
                    <option value="25">25</option>
                    <option value="50">50</option>
                    <option value="100">100</option>
                </select>
                <label class="entries-label">entries</label>
            </div>
        </div>
        
        <!-- Main Table -->
        <div class="table-wrapper" id="table-wrapper">
            <!-- Mobile Cards View (Hidden by default, shown on small screens) -->
            <div class="mobile-cards" id="mobile-cards" style="display: none;">
                <!-- Cards will be dynamically generated here -->
            </div>
            
            <table class="inventory-table">
                <thead>
                    <tr>
                        <th class="checkbox-col">
                            <input type="checkbox" id="select-all-header">
                        </th>
                        <th class="sortable" data-column="product_id">
                            Product ID
                            <i class="fas fa-sort"></i>
                        </th>
                        <th>Image</th>
                        <th class="sortable active desc" data-column="name">
                            Product Name
                            <i class="fas fa-sort-down"></i>
                        </th>
                        <th class="sortable" data-column="quantity">
                            Stock
                            <i class="fas fa-sort"></i>
                        </th>
                        <th class="sortable" data-column="price">
                            Price (â‚¹)
                            <i class="fas fa-sort"></i>
                        </th>
                        <th class="sortable" data-column="status">
                            Status
                            <i class="fas fa-sort"></i>
                        </th>
                        <th class="actions-col">Actions</th>
                    </tr>
                </thead>
                <tbody id="inventory-tbody">
                    <!-- Sample rows - will be populated dynamically -->
                    <tr>
                        <td class="checkbox-col">
                            <input type="checkbox" class="row-checkbox">
                        </td>
                        <td class="product-id">
                            <a href="#" class="link">PRD-001</a>
                        </td>
                        <td class="image-col">
                            <div class="product-image">
                                <img src="https://via.placeholder.com/40" alt="Product">
                            </div>
                        </td>
                        <td class="product-name">
                            <div class="name-cell">
                                <span class="name">Blue Cotton Shirt</span>
                                <span class="sub-info">Premium Collection</span>
                            </div>
                        </td>
                        <td class="sku">BCS-M-001</td>
                        <td class="category">
                            <span class="category-badge">Shirt</span>
                        </td>
                        <td class="size">M</td>
                        <td class="color">
                            <div class="color-display">
                                <span class="color-dot" style="background: #2196f3;"></span>
                                Blue
                            </div>
                        </td>
                        <td class="quantity">
                            <div class="stock-info">
                                <span class="stock-number">145</span>
                                <div class="stock-bar">
                                    <div class="stock-level" style="width: 72%;"></div>
                                </div>
                            </div>
                        </td>
                        <td class="status">
                            <span class="status-badge in-stock">In Stock</span>
                        </td>
                        <td class="price">$45.00</td>
                        <td class="last-updated">
                            <span class="date">Dec 26, 2024</span>
                            <span class="time">10:30 AM</span>
                        </td>
                        <td class="actions-col">
                            <div class="actions">
                                <button class="action-btn" title="View">
                                    <i class="fas fa-eye"></i>
                                </button>
                                <button class="action-btn" title="Edit">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button class="action-btn" title="QR Code">
                                    <i class="fas fa-qrcode"></i>
                                </button>
                                <div class="dropdown">
                                    <button class="action-btn" title="More">
                                        <i class="fas fa-ellipsis-v"></i>
                                    </button>
                                    <div class="dropdown-menu">
                                        <a href="#">Duplicate</a>
                                        <a href="#">Print Label</a>
                                        <a href="#">View History</a>
                                        <div class="divider"></div>
                                        <a href="#" class="danger">Delete</a>
                                    </div>
                                </div>
                            </div>
                        </td>
                    </tr>
                    
                    <!-- More sample rows -->
                    <tr>
                        <td class="checkbox-col">
                            <input type="checkbox" class="row-checkbox">
                        </td>
                        <td class="product-id">
                            <a href="#" class="link">PRD-002</a>
                        </td>
                        <td class="image-col">
                            <div class="product-image">
                                <img src="https://via.placeholder.com/40" alt="Product">
                            </div>
                        </td>
                        <td class="product-name">
                            <div class="name-cell">
                                <span class="name">Black Denim Jeans</span>
                                <span class="sub-info">Casual Wear</span>
                            </div>
                        </td>
                        <td class="sku">BDJ-L-002</td>
                        <td class="category">
                            <span class="category-badge">Pants</span>
                        </td>
                        <td class="size">L</td>
                        <td class="color">
                            <div class="color-display">
                                <span class="color-dot" style="background: #000;"></span>
                                Black
                            </div>
                        </td>
                        <td class="quantity">
                            <div class="stock-info">
                                <span class="stock-number low">12</span>
                                <div class="stock-bar">
                                    <div class="stock-level low" style="width: 15%;"></div>
                                </div>
                            </div>
                        </td>
                        <td class="status">
                            <span class="status-badge low-stock">Low Stock</span>
                        </td>
                        <td class="price">$65.00</td>
                        <td class="last-updated">
                            <span class="date">Dec 26, 2024</span>
                            <span class="time">09:15 AM</span>
                        </td>
                        <td class="actions-col">
                            <div class="actions">
                                <button class="action-btn" title="View">
                                    <i class="fas fa-eye"></i>
                                </button>
                                <button class="action-btn" title="Edit">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button class="action-btn" title="QR Code">
                                    <i class="fas fa-qrcode"></i>
                                </button>
                                <div class="dropdown">
                                    <button class="action-btn" title="More">
                                        <i class="fas fa-ellipsis-v"></i>
                                    </button>
                                    <div class="dropdown-menu">
                                        <a href="#">Duplicate</a>
                                        <a href="#">Print Label</a>
                                        <a href="#">View History</a>
                                        <div class="divider"></div>
                                        <a href="#" class="danger">Delete</a>
                                    </div>
                                </div>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            
            <!-- Empty State -->
            <div class="empty-state" style="display: none;">
                <i class="fas fa-box-open"></i>
                <h3>No products found</h3>
                <p>Try adjusting your filters or add a new product</p>
                <button class="btn-action primary">
                    <i class="fas fa-plus"></i>
                    Add Product
                </button>
            </div>
        </div>
        
        <!-- Pagination -->
        <div class="pagination-wrapper">
            <div class="pagination-info">
                Showing <span id="start-record">1</span> to <span id="end-record">25</span> 
                of <span id="total-records">248</span> entries
            </div>
            
            <div class="pagination">
                <button class="page-btn" disabled>
                    <i class="fas fa-chevron-left"></i>
                </button>
                <button class="page-number active">1</button>
                <button class="page-number">2</button>
                <button class="page-number">3</button>
                <span class="page-dots">...</span>
                <button class="page-number">10</button>
                <button class="page-btn">
                    <i class="fas fa-chevron-right"></i>
                </button>
            </div>
        </div>
    </div>
    
    <!-- Quick View Modal -->
    <div class="modal" id="quick-view-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Product Details</h2>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <!-- Product details will be loaded here -->
            </div>
        </div>
    </div>
    
    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/qrcodejs@1.0.0/qrcode.min.js"></script>
    <script src="inventory-advanced.js"></script>
    <script>
        // Mobile filter toggle
        document.getElementById('mobile-filter-toggle')?.addEventListener('click', function() {
            const navBar = document.getElementById('nav-bar');
            const isVisible = navBar.classList.contains('mobile-visible');
            
            if (isVisible) {
                navBar.classList.remove('mobile-visible');
                this.classList.remove('active');
            } else {
                navBar.classList.add('mobile-visible');
                this.classList.add('active');
            }
        });
        
        // Check if table is scrollable
        function checkTableScroll() {
            const wrapper = document.getElementById('table-wrapper');
            if (wrapper) {
                if (wrapper.scrollWidth > wrapper.clientWidth) {
                    wrapper.classList.add('scrollable');
                } else {
                    wrapper.classList.remove('scrollable');
                }
            }
        }
        
        // Check on load and resize
        window.addEventListener('load', checkTableScroll);
        window.addEventListener('resize', checkTableScroll);
        
        // Mobile viewport detection
        function isMobileViewport() {
            return window.innerWidth <= 400;
        }
        
        // Toggle between table and card view based on screen size
        function toggleMobileView() {
            const table = document.querySelector('.inventory-table');
            const mobileCards = document.getElementById('mobile-cards');
            
            if (isMobileViewport()) {
                if (table) table.style.display = 'none';
                if (mobileCards) {
                    mobileCards.style.display = 'block';
                    // Generate mobile cards if needed
                    generateMobileCards();
                }
            } else {
                if (table) table.style.display = '';
                if (mobileCards) mobileCards.style.display = 'none';
            }
        }
        
        // Generate mobile card view
        function generateMobileCards() {
            const mobileCards = document.getElementById('mobile-cards');
            const tbody = document.getElementById('inventory-tbody');
            
            if (!mobileCards || !tbody) return;
            
            // Clear existing cards
            mobileCards.innerHTML = '';
            
            // Get all rows from table
            const rows = tbody.querySelectorAll('tr');
            
            rows.forEach(row => {
                // Skip if row has no data
                if (!row.querySelector('.product-name')) return;
                
                const card = document.createElement('div');
                card.className = 'product-card';
                
                const productName = row.querySelector('.product-name .name')?.textContent || '';
                const productId = row.querySelector('.product-id a')?.textContent || '';
                const status = row.querySelector('.status-badge')?.textContent || '';
                const statusClass = row.querySelector('.status-badge')?.className.split(' ')[1] || '';
                const stock = row.querySelector('.stock-number')?.textContent || '0';
                const price = row.querySelector('.price')?.textContent || '$0';
                
                card.innerHTML = `
                    <div class="product-card-header">
                        <div>
                            <div class="product-card-title">${productName}</div>
                            <div class="product-card-id">${productId}</div>
                        </div>
                        <span class="product-card-status ${statusClass}">${status}</span>
                    </div>
                    <div class="product-card-details">
                        <div class="product-card-detail">
                            <div class="product-card-label">Stock</div>
                            <div class="product-card-value">${stock} units</div>
                        </div>
                        <div class="product-card-detail">
                            <div class="product-card-label">Price</div>
                            <div class="product-card-value">${price}</div>
                        </div>
                    </div>
                    <div class="product-card-actions">
                        <button class="product-card-action" onclick="viewProduct('${productId}')">
                            <i class="fas fa-eye"></i> View
                        </button>
                        <button class="product-card-action" onclick="editProduct('${productId}')">
                            <i class="fas fa-edit"></i> Edit
                        </button>
                        <button class="product-card-action" onclick="showQRCode('${productId}')">
                            <i class="fas fa-qrcode"></i> QR
                        </button>
                    </div>
                `;
                
                mobileCards.appendChild(card);
            });
        }
        
        // Check on load and resize
        window.addEventListener('load', toggleMobileView);
        window.addEventListener('resize', toggleMobileView);
    </script>
</body>
</html>